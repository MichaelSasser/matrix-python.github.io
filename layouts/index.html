{{ define "main" }}
  <section class="section container-fluid mt-n3 pb-3">
    <div class="row justify-content-center">
      <div class="col-lg-12 text-center">
        <h1 class="mt-0">
          <span>Python Community on&nbsp;</span
          >{{- partial "main/embedded_image.html" "matrix-logo" -}}
        </h1>
      </div>
      <div class="col-lg-9 col-xl-8 text-center">
        <p class="lead">{{ .Params.lead | safeHTML }}</p>
        <a
          class="btn btn-primary btn-lg px-4 mb-2"
          href="{{ "docs/prologue/introduction/" | absURL }}"
          role="button"
          >Join us on Matrix</a
        >
        <p class="meta">
          and chat with
          {{ if hugo.IsProduction }}
            {{ $rooms := getJSON .Site.Params.matrix_room_data_url "/_matrix/client/r0/publicRooms" }}
            {{ range where $rooms.chunk "canonical_alias" "==" .Site.Params.users_room }}
              {{ .num_joined_members }}
            {{ end }}
          {{ else }}
            0000
          {{ end }}
          Pythoneers.
        </p>
      </div>
    </div>
  </section>
{{ end }}
{{ define "sidebar-prefooter" }}
  <div class="d-flex justify-content-start">
    <div class="bg-dots"></div>
  </div>

  <section class="section section-sm">
    <div class="container">
      <div class="row justify-content-center text-center">
        <div class="col-lg-5">
          <h2 class="h4">Formatting</h2>
          <p>
            Many clients support the Markdown markup language, including syntax
            highlighting and
            <!-- START: rendered LATEX message using katex -->
            <span
              ><span class="katex"
                ><span class="katex-mathml"
                  ><math xmlns="http://www.w3.org/1998/Math/MathML"
                    ><semantics
                      ><mrow><mtext mathvariant="bold">LaTeX</mtext></mrow
                      ><annotation encoding="application/x-tex">
                        \textbf{\LaTeX}
                      </annotation></semantics
                    ></math
                  ></span
                ><span class="katex-html" aria-hidden="true"
                  ><span class="base"
                    ><span
                      class="strut"
                      style="height: 0.90161em; vertical-align: -0.2155em;"
                    ></span
                    ><span class="mord text"
                      ><span class="mord text"
                        ><span class="mord textrm textbf">L</span
                        ><span
                          class="mspace"
                          style="margin-right: -0.36em;"
                        ></span
                        ><span class="vlist-t"
                          ><span class="vlist-r"
                            ><span class="vlist" style="height: 0.685276em;"
                              ><span class="" style="top: -2.905em;"
                                ><span
                                  class="pstrut"
                                  style="height: 2.7em;"
                                ></span
                                ><span class="mord"
                                  ><span
                                    class="mord textrm textbf mtight sizing reset-size6 size3"
                                    >A</span
                                  ></span
                                ></span
                              ></span
                            ></span
                          ></span
                        ><span
                          class="mspace"
                          style="margin-right: -0.15em;"
                        ></span
                        ><span class="mord text"
                          ><span class="mord textrm textbf">T</span
                          ><span
                            class="mspace"
                            style="margin-right: -0.1667em;"
                          ></span
                          ><span class="vlist-t vlist-t2"
                            ><span class="vlist-r"
                              ><span class="vlist" style="height: 0.47061em;"
                                ><span class="" style="top: -2.7845em;"
                                  ><span
                                    class="pstrut"
                                    style="height: 3em;"
                                  ></span
                                  ><span class="mord"
                                    ><span class="mord textrm textbf"
                                      >E</span
                                    ></span
                                  ></span
                                ></span
                              ><span class="vlist-s">​</span></span
                            ><span class="vlist-r"
                              ><span class="vlist" style="height: 0.2155em;"
                                ><span class=""></span></span></span></span
                          ><span
                            class="mspace"
                            style="margin-right: -0.125em;"
                          ></span
                          ><span class="mord textrm textbf">X</span></span
                        ></span
                      ></span
                    ></span
                  ></span
                ></span
              ></span
            >
            <!-- END: rendered LATEX message using katex -->
            math in messages.
          </p>
          <p>
            <a href="docs/tutorial/formatting/" target="_blank" rel="noopener"
              >Tutorial →</a
            >
          </p>
        </div>
        <div class="col-lg-5">
          <h2 class="h4">Code of Conduct</h2>
          <p>
            We are committed to provide a welcoming and inspiring community for
            all, and expect our Code of Conduct to be honored.
          </p>
          <p>
            <a href="docs/code_of_conduct/" target="_blank" rel="noopener"
              >Our Code of Conduct →</a
            >
          </p>
        </div>
        <div class="col-lg-5">
          <h2 class="h4">Decentralized</h2>
          <p>
            When you send a message in Matrix, it is replicated over all the
            servers whose users are participating in a given conversation.
          </p>
          <p><a href="#" target="_blank" rel="noopener">About Servers →</a></p>
        </div>
      </div>
      <!-- <div class="row justify-content-center text-center"> -->
      <!--   <div class="col-lg-5"> -->
      <!--     <h2 class="h4">Opern Source Server</h2> -->
      <!--     <p><a href="https://github.com/matrix-org/synapse">Synapse</a> is an open source homeserver built on the open Matrix standard for secure, decentralised, real-time communication.</p> -->
      <!--   </div> -->
      <!--   <div class="col-lg-5"> -->
      <!--     <h2 class="h4">Open Source Client</h2> -->
      <!--     <p><a href="https://element.io/">Element</a> is an all-in-one secure chat app for teams, friends and organisations. It keeps conversations in your control, safe from data-mining and ads.</p> -->
      <!--   </div> -->
      <!-- </div> -->
    </div>
  </section>

  <!-- Matrix Clients -->
  <section class="section section-sm my-3 py-5 bg-light">
    <div class="container">
      <h2 class="h3 my-0 text-center">Matrix Clients</h2>
      <div class="row justify-content-center g-4 mb-5">
        <!-- Element -->
        <div class="col-md-8 col-lg-6 col-xl-5">
          <div class="card h-100 text-center pt-1">
            <div class="card-body pb-1">
              <a class="stretched-link" href="https://element.io/"></a>
              {{- partial "main/embedded_image.html" "element-logo" -}}
              <p class="mb-n10">
                Element is our recommended client for Matrix. It is a glossy web
                client with an emphasis on performance and usability.
              </p>
              <p class="mb-n5 text-secondary">
                <font size="2"
                  >Web &#183; Windows &#183; Linux &#183; MacOS &#183; iOS
                  &#183; Android</font
                >
              </p>
            </div>
          </div>
        </div>
        <!-- Cinny -->
        <div class="col-md-8 col-lg-6 col-xl-5">
          <div class="card h-100 text-center pt-1">
            <div class="card-body pb-1">
              <a class="stretched-link" href="https://cinny.in/"></a>
              {{- partial "main/embedded_image.html" "cinny-logo" -}}
              <p class="mb-n10">
                A Matrix client where you can enjoy the conversation using
                simple, elegant and secure interface.
              </p>
              <p class="mb-n5 text-secondary"><font size="2">Web</font></p>
            </div>
          </div>
        </div>
        <!-- gomuks -->
        <div class="col-md-8 col-lg-6 col-xl-5">
          <div class="card h-100 text-center pt-1">
            <div class="card-body pb-1">
              <a
                class="stretched-link"
                href="https://maunium.net/go/gomuks/"
              ></a>
              <h4 class="h4 mt-3 pt-2 mb-4">gomuks</h4>
              <p class="mb-n10">
                A terminal Matrix client written in Go. Basic usage is possible,
                but expect bugs and missing features.
              </p>
              <p class="mb-n5 text-secondary">
                <font size="2">Windows &#183; Linux &#183; MacOS</font>
              </p>
            </div>
          </div>
        </div>
        <!-- end of cards -->
      </div>
      <div class="text-center pt-4">
        <p class="mb-0">
          <a href="https://matrix.org/clients/" target="_blank" rel="noopener"
            >Full List →</a
          >
        </p>
      </div>
    </div>
  </section>

  <!-- Blog Cards -->
  <section class="section section-sm mt-3 pt-3">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-14 col-xl-12">
          <h2 class="h3 mt-3 text-center">Latest from our blog</h2>
          <div class="card-list">
            {{ range first 4 (where .Site.RegularPages.ByDate.Reverse "Section"
              "blog")
            -}}
              {{ partial "main/blog-post-list-layout.html" . -}}
            {{ end -}}
          </div>
        </div>
      </div>
    </div>
  </section>
{{ end }}
{{ define "sidebar-footer" }}
  <section class="section section-sm container-fluid">
    <div class="row justify-content-center text-center">
      <div class="col-lg-9">{{- .Content -}}</div>
    </div>
  </section>
{{ end }}
